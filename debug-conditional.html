<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Debug Conditional</title>
		<style>
			.box {
				padding: 10px;
				margin: 5px;
				border: 2px solid #333;
			}
			.even {
				background: lightgreen;
			}
			.odd {
				background: lightcoral;
			}
		</style>
	</head>
	<body>
		<h1>Debug Conditional Rendering</h1>

		<div>
			<button onclick="count.value--">-</button>
			<span>Count: <span data-bind="count.value">0</span></span>
			<button onclick="count.value++">+</button>
		</div>

		<p>
			Current count % 2 === 0:
			<span data-bind="count.value % 2 === 0">false</span>
		</p>

		<div data-if="count.value % 2 === 0" class="box even" id="even-box">
			EVEN: count.value % 2 === 0 is TRUE
		</div>

		<div data-else class="box odd" id="odd-box">
			ODD: Previous condition was FALSE
		</div>

		<script type="module">
			import { manifold, State } from "./src/index.ts";

			window.count = new State(1); // Start with odd number

			manifold();

			console.log("Debug page loaded with count =", count.value);
			console.log("Even box:", document.getElementById("even-box"));
			console.log("Odd box:", document.getElementById("odd-box"));

			// Log when count changes
			count.effect(() => {
				console.log(
					"Count changed to:",
					count.value,
					"isEven:",
					count.value % 2 === 0
				);
			});
		</script>
	</body>
</html>
