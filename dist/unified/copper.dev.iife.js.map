{"version":3,"file":"copper.dev.iife.js","sources":["../../src/general/hash.ts","../../src/general/config.ts","../../src/client/store.ts","../../src/client/util.ts","../../src/client/conditionals.ts","../../src/index.unified.ts","../../src/client/clientRoot.ts","../../src/client/stringInterp.ts","../../src/client/bindSync.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null],"names":["hashStr","input","hash","enc","TextEncoder","encode","char","copperConfig","el","str","def","attr","bind","value","html","if","elseif","else","templ","trans","all","in","out","hashAny","toHash","Map","entries","Set","Date","now","Array","from","JSON","stringify","toString","Store","name","undefined","updater","subscriptions","downstreamStores","upstreamStores","changeHash","onChange","static","constructor","ops","this","modify","addDep","store","push","addSub","ref","sub","set","refresh","upstreamValues","map","length","e","console","error","handleChange","upstream","storeMap","update","newHash","cc","updateDependents","filter","forEach","delete","get","breakOutSettings","settings","output","s","split","i","setting","parts","propagations","egressFunc","window","ingressFunc","storeName","bindings","storeFromName","registerDomSubscription","element","storePath","processFunc","bindTo","bindType","cb","domSubscription","val","obj","path","pathParts","replace","slice","key","isArray","parseInt","_","findNestedValue","setAttribute","style","getConditionalElement","asType","getAttribute","hasAttribute","Cu","init","parent","selectors","document","body","querySelectorAll","join","tagName","innerHTML","promoteAttr","newEl","createElement","attributes","replaceWith","display","nextElementSibling","handleConditionals","toUpperCase","handleStringInterpolation","t","includes","eventName","eventFunc","currentTarget","getPropertyValue","removeEventListener","addEventListener","handleDataBinding","rm"],"mappings":"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"}