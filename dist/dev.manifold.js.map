{"version":3,"file":"dev.manifold.js","sources":["../src/util.ts","../src/updates.ts","../src/store.ts","../src/common_types.ts","../src/fetch.ts","../src/domutil.ts","../src/registered_element.ts","../src/bindsync.ts","../src/templates.ts","../src/registrar.ts","../src/index.ts","../src/component.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null],"names":["ATTR_PREFIX","_commaSepRx","_id","Date","now","Math","floor","random","_getOpOverrides","ops","el","overrides","profiles","dataset","override","res","set","key","startsWith","prop","split","val","match","JSON","parse","parseInt","Array","isArray","map","v","e","console","error","_parseFunction","condition","valArg","keyArg","fnStr","asStr","fnText","as","s","trim","func","Function","_handlePushState","ev","href","preventDefault","pushState","_dataset","push","undefined","history","workArray","cancelAnimationFrame","_nextTickQueue","_scheduleUpdate","update","requestAnimationFrame","_runUpdates","_addSpacer","inEl","wrapper","wrapperHeight","trans","smart","paddingTop","paddingBottom","Element","getComputedStyle","spacer","document","createElement","style","height","abs","clientHeight","after","_adjustSizing","dur","animate","order","out","_getDimensionsAfterUpdate","relation","in","_applyTransition","prepend","includes","container","cloneNode","border","replaceChildren","replaceWith","appendChild","done","forEach","fn","dir","refElement","nodeType","Node","TEXT_NODE","textContent","transClass","class","classList","add","hooks","dimensions","_getDimensions","position","width","w","left","top","margin","transitionDuration","setTimeout","remove","swap","rect","getBoundingClientRect","clientWidth","paddingLeft","paddingRight","window","scrollX","scrollY","_hashAny","input","Map","Set","from","entries","hash","char","TextEncoder","encode","toString","Store","_updater","_subscriptions","_storedHash","_upstreamStores","_downstreamStores","_scope","_updateTimeout","name","value","constructor","this","_modify","scope","currentScript","MFLD","st","upstream","S","_store","updater","_auto_update","sub","ref","immediate","clearTimeout","newValue","newHash","ds","newVal","found_store","get","mut","$st","Proxy","store","property","propParts","parseFloat","ret","part","slice","$fn","comp","_handleFetch","trigger","fetchOps","method","complete","_fetchAndInsert","addEventListener","async","domUpdate","stopPropagation","target","externalPermissions","fetch","externals","find","allowed","domain","location","origin","scripts","styles","$el","body","FormData","data","request","headers","stringify","catch","err","code","status","onCode","resp","resType","instruction","selector","toReplace","fullMarkup","DOMParser","parseFromString","querySelector","querySelectorAll","parentNode","removeChild","n","attr","attributes","setAttribute","before","resolveTxt","resolveFunc","$body","_iterateSiblings","sib","breakFn","cb","reverse","_registerInternalStore","elementReg","RegisteredElement","_el","_listeners","_funcs","query","create","_addListener","_addFunc","_cleanUp","removeEventListener","delete","_handleBind","dependencyList","_handleSync","_handleTemplates","mode","templStore","newFunc","startElement","templ","nodeName","tagName","newEl","content","_ensureTemplate","conditional","conditionalSub","prevConditions","first","contains","d","nextElementSibling","obj","arr","length","_iterable","item","html","innerHTML","replace","_","cap","element","children","String","_ops","_modes","m","reload","_register","parent","els","join","_op_overrides","structuredClone","id","toLowerCase","action","setting","isFetch","test","parts","pop","triggers","shift","funcStr","matchAll","Mfld","store_name","store_ops","hasOwnProperty","ustore","funcs","config","new_ops","profile_name","_setOptions","newops","profileName","onTick","register","makeComponent","HTMLElement","template","connected","adopted","disconnected","attributeChanged","super","bind","getElementById","connectedCallback","shadow","attachShadow","append","child","slotChild","assignedNodes","attributeChangedCallback","oldVal","disconnectedCallback","adoptedCallback","observedAttributes","customElements","define","component","src"],"mappings":"AAGO,IAAIA,EAAc,MACdC,EAAc,UAEdC,EAAM,IACN,GAAGC,KAAKC,SAASC,KAAKC,MAAsB,IAAhBD,KAAKE,YAGjCC,EAAkB,CAACC,EAAuBC,KACjD,IAAIC,EAAYF,EAAIG,WAAWF,EAAGG,SAASC,UAAY,IACnDC,EAAM,IAAKN,KAAQE,GAGvB,IAAI,IAAIK,KAAON,EAAGG,QACd,IAAI,IAAII,IAAO,CAAC,QAAS,SACrB,GAAGD,EAAIE,WAAW,GAAGlB,IAAciB,MAC/B,IACI,IAAIE,EAAOH,EAAII,MAAM,KAAK,GACtBC,EAAWX,EAAGG,QAAQG,GACvBK,GAAKC,MAAM,SAAUD,EAAME,KAAKC,MAAMH,GACjCI,SAASJ,GAAO,MAAKA,EAAMI,SAASJ,IACzCK,MAAMC,QAAQN,KAAMA,EAAMA,EAAIO,KAAIC,GAAIJ,SAASI,IAAMA,KACvDd,EAAYE,GAAKE,GAAQE,CAC7B,CACD,MAAMS,GACFC,QAAQC,MAAMF,EACjB,CAKb,OAAOf,CAAG,EAGHkB,EAAiB,CAACC,EAAmBC,EAAS,OAAQC,EAAS,UACtE,IACI,IAAKC,EAAOC,GAASJ,GAAWd,MAAM,mBAAqB,CAACc,EAAW,SAEnEK,EAAS,uBAAuBJ,MAAWC,0BADtCC,GAAOf,MAAM,0CAA4C,IAAIe,OAAaA,IAE/EG,EAAKF,GAAOlB,QAAQnB,IAAc2B,OAAMa,GAAIA,EAAEC,UAAW,CAAC,UAAY,GAE1E,MAAO,CAAEC,KADwB,IAAIC,SAAS,MAAOL,GACtCC,KAClB,CACD,MAAMV,GAEF,OADAC,QAAQC,MAAMF,GACP,EACV,YAGWe,EAAiBnC,EAAuBoC,EAAYC,GAChED,GAAIE,iBAEJ,IAAIC,EAAYvC,EAAGwC,EAAS,aACxBC,EAAOJ,EACX,OAAOE,GACH,IAAK,GAAI,MACT,UAAKG,EAAW,OAChB,QAASD,EAAO,IAAIF,IAGxBI,QAAQJ,UAAU,KAAM,GAAIE,EAChC,CCpDA,IAAIG,EAAyC,GACzCC,EAAuB,EACvBC,EAA6B,GAQtBC,EAAmBC,IAC1BJ,EAAUH,KAAKO,GACXH,IACAA,EAAuBI,sBAAsBC,GAChD,EAGDC,EAAa,CAACC,EAA0BC,EAA6BC,EAAuBvD,KAC5F,KAAKA,EAAIwD,OAAOC,OAAS,GAAO,OAChC,IAAIC,WAAEA,EAAUC,cAAEA,GAAkBL,aAAmBM,QAAUC,iBAAiBP,GAAW,CAAEI,WAAY,EAAGC,cAAe,GACzHG,EAASC,SAASC,cAAc,OACpCF,EAAOG,MAAMC,OAAS,QAAQtE,KAAKuE,IAAIZ,GAAiBF,GAAMe,cAAgB,WAAWV,OAAgBC,KACzGL,GAASe,MAAMP,EAAO,EAGtBQ,EAAgB,CAACjB,EAA0BrD,KAC3C,IAAIA,EAAIwD,OAAOC,OAAS,EAAM,OAC9B,IAAIc,GAAiC,iBAAnBvE,GAAKwD,OAAOe,IAAkBvE,GAAKwD,OAAOe,IAAMvE,GAAKwD,OAAOe,MAAM,IAAM,GAAG,EAC7FvB,GAAgB,KAEZK,GAAMmB,UAAU,CACZ,CAAEN,OA3BK,IA4BP,CAAEA,OAAQ,GAAGb,EAAKe,cAAgB,QACnCG,EAAI,GACT,EAGFpB,EAAc,KACdL,EAAuB,EAEvB,IAAI,IAAI2B,KAAS5B,EAAW,CACxB,GAAmB,mBAAT4B,EAAqB,CAC3BA,IACA,QACH,CAED,IAAIlB,EAAgBkB,EAAMC,IAAMD,EAAMC,IAAIN,aAAe,EACrDO,EAA8C,SAAlBF,EAAMG,SAEtC,GAAqB,WAAlBH,EAAMG,SACLxB,IAAaqB,GAAOI,GAAIJ,GAAOC,IAAKnB,EAAekB,EAAMzE,KACzD8E,EAAiBL,EAAMI,GAAI,KAAMJ,EAAMzE,KAAK,KACrCyE,GAAOI,IAAIJ,EAAMC,KAAKK,QAAQN,EAAMI,IACvCP,IAAgBG,GAAOI,GAAIJ,EAAMzE,IAAI,QAGxC,CACD,GAAG,CAAC,QAAS,SAASgF,SAASP,EAAMG,UAAW,CAC5C,IAAIK,EAAYR,EAAMC,KAAKQ,WAAU,GAClCD,IACCR,EAAMC,KAAKL,MAAMY,GACdN,IACCM,EAAUhB,MAAMkB,OAAS,OACzBV,GAAOC,KAAKU,mBAEhBN,EAAiBG,EAAW,MAAOR,EAAMzE,SAAK2C,EAAW8B,GAAOC,IAAKC,GAE5E,CAEDvB,IAAaqB,EAAMI,GAAIJ,EAAMC,IAAKnB,EAAekB,EAAMzE,KACvD8E,EAAiBL,EAAMI,GAAI,KAAMJ,EAAMzE,KAAK,KACrCyE,EAAMI,KACgB,SAAlBJ,EAAMG,SAAqBH,EAAMC,KAAKW,YAAYZ,EAAMI,IACtDJ,EAAMC,KAAKY,YAAYb,EAAMI,KAEtCP,IAAgBG,EAAMI,GAAIJ,EAAMzE,IAAI,GAE3C,CAEDyE,EAAMc,OAAOd,EAAMI,GACtB,CAED9B,EAAeyC,SAAQC,GAAMA,MAC7B1C,EAAiB,GACjBF,EAAY,EAAE,EAGPiC,EAAmB,CAC1B7E,EACAyF,EACA1F,EACAyF,EACAE,EACAhB,GAA4B,EAC5BN,KAOA,GALGpE,GAAI2F,UAAYC,KAAKC,YACpB7F,EAAGoF,YAAYtB,UAAUC,cAAc,QACvC/D,EAAG8F,YAAc9F,EAAG8F,aAGrB9F,EAAI,CACH,MAAMsE,EAAMtD,MAAMC,QAAQlB,EAAIwD,OAAOe,KAAOvE,EAAIwD,OAAOe,IAAW,MAAPmB,EAAc,EAAI,IAAM1F,EAAIwD,OAAOe,IAAI,GAAKvE,EAAIwD,OAAOe,KAAO,EACnHyB,EAAahG,GAAKwD,OAAOyC,OAAS,GAAG1G,SAI3C,GAHAU,GAAIiG,WAAWC,IAAIH,GACnBhG,EAAIwD,OAAO4C,QAAQ,GAAGV,aAAezF,GAE3B,OAAPyF,EAAc,CAEb,KADAC,EAAaA,GAAc1F,GACX,OAChB,IAAIoG,EAAa,CAAA,GACbrG,EAAIwD,OAAOC,OAAS,KAAUkB,IAC9B0B,EAAaC,EAAeX,IAGhC3C,GAAgB,MACRhD,EAAIwD,OAAOC,OAAS,IAASkB,GAA6BgB,IAC1DU,EAAaC,EAAeX,KAG7B3F,EAAIwD,OAAOC,OAAS,KACnBxD,EAAGgE,MAAMsC,SAAW,QACpBtG,EAAGgE,MAAMuC,MAAQH,EAAWI,EAC5BxG,EAAGgE,MAAMyC,KAAOL,EAAWK,KAC3BzG,EAAGgE,MAAM0C,IAAMN,EAAWM,IAC1B1G,EAAGgE,MAAM2C,OAAS,KAEnBrC,IAAKtE,EAAGgE,MAAM4C,mBAAqB,GAAGtC,OAEzCtE,EAAGiG,WAAWC,IAAI,MAAM,GAE/B,MAEGlG,GAAIiG,WAAWC,IAAI,MAChB5B,IAAKtE,EAAGgE,MAAM4C,mBAAqB,GAAGtC,OACzCkB,MACAqB,YAAW,KACP9D,GAAgB,KACZ8D,YAAW,IAAK9D,GAAgB,IAAK/C,GAAIiG,WAAWa,OAAOrB,MAAO,EAAE,GACtE,GACH1F,EAAIwD,OAAOwD,MAAQ,GAG1BF,YAAW,KACP9D,GAAgB,KACF,OAAP0C,GAAczF,GAAI8G,SACrB9G,GAAIiG,WAAWa,OAAOf,GACtBhG,EAAIwD,OAAO4C,QAAQ,GAAGV,WAAazF,GACnCA,EAAGgE,MAAM4C,mBAAqB,GACpB,MAAPnB,GAAarB,IAAQpE,EAAG,GAC7B,GAENsE,GAAc,MAAPmB,GAAc1F,EAAIwD,OAAOwD,MAAY,GAC/C,GAGDV,EAAkBX,IAClB,IAAI1B,EAAQJ,iBAAiB8B,GACzBsB,EAAOtB,EAAWuB,wBACtB,MAAO,CACHT,EAAG,QAAQ,EAAaU,mBAAmBlD,EAAMmD,iBAAiBnD,EAAMoD,gBACxEX,KAAM,QAAQO,EAAKP,YAAYY,OAAOC,aACtCZ,IAAK,QAAQM,EAAKN,WAAWW,OAAOE,aACvC,ECxKL,SAASC,EAASC,GACd,IAAIA,EAAO,OAAO,EAClB,GAAoB,iBAAVA,IAAgC,IAAVA,EAAgB,OAAOA,EACvD,GAAGA,aAAiBC,KAAOD,aAAiBE,IAAK,OAAOH,EAASxG,MAAM4G,KAAKH,EAAMI,WAAaJ,IAE/F,IAAIK,EAAO,EACX,IAAK,IAAIC,KAAQ,IAAIC,aAAcC,OAAOR,GAAOS,YAAc,IAC3DJ,GAASA,GAAQ,GAAKA,EAAQC,EAClC,OAAOD,CACX,OAEaK,EACTC,EACAC,EAA2C,IAAIX,IAC/CY,EACAC,EAAmC,IAAIZ,IACvCa,EAAqC,IAAIb,IACzCc,EACAC,EACAC,KACAC,MAEA,WAAAC,CAAYF,EAAc5I,GACtB+I,KAAKH,KAAOA,EACZG,KAAKL,EAAS,SACdK,KAAKF,WAAQlG,EACboG,KAAKC,EAAQJ,EAAM5I,EACtB,CAED,CAAAgJ,CAAQJ,EAAc5I,GAelB,OAdA+I,KAAKH,KAAOA,EACZG,KAAKL,EAAS1I,GAAKiJ,OAASlF,SAASmF,eAAiB,SACtDC,KAAKC,GAAG7I,IAAIqI,EAAMG,MAEjB/I,GAAKqJ,UAAUlI,KAAIa,IAChB,IAAIsH,EAAIC,EAAOvH,GAGf,OAFA+G,KAAKP,EAAgBrC,IAAImD,GACzBA,EAAEb,EAAkBtC,IAAI4C,MACjBO,CAAC,IAGZP,KAAKF,MAAQ7I,GAAK6I,MAClBE,KAAKV,EAAWrI,GAAKwJ,QACrBT,KAAKU,IACEV,IACV,CAED,GAAAW,CAAIA,EAAyBC,EAAcC,GAAqB,GAC5Db,KAAKT,EAAe/H,IAAIoJ,GAAOlK,IAAOiK,GACnCE,GAAWF,EAAIX,KAAKF,MAC1B,CAED,MAAA5F,CAAO4F,GACAE,KAAKJ,GAAgBkB,aAAad,KAAKJ,GAC1CI,KAAKJ,EAAiB7B,YAAW,KAC7B9D,GAAgB,KACZ,IAAI8G,EAA4B,mBAAVjB,EAAwBA,EAAmBE,KAAKF,OAASA,EAC3EkB,EAAUtC,EAASqC,GAEvB,GAAGC,IAAYhB,KAAKR,EAAa,CAC7BQ,KAAKF,MAAQiB,EACbf,KAAKR,EAAcwB,EAAQ5B,WAE3B,IAAK,IAAI6B,KAAMjB,KAAKN,EAAmBuB,EAAGP,IAE1C,IAAK,IAAKE,EAAKD,KAAQX,KAAKT,EAAgBoB,EAAIX,KAAKF,MAAOc,EAC/D,CAED,OAAOZ,KAAKF,KAAK,GACnB,GACH,EACN,CAED,CAAAY,GACI,IAAIQ,EAASlB,KAAKV,IACdpH,MAAM4G,KAAKkB,KAAKP,GAAiBrH,KAAImI,GAAKA,EAAET,SAAU,GACtDE,KAAKF,OAGTE,KAAK9F,YAAkBN,IAAXsH,EAAuBlB,KAAKF,MAAQoB,EACnD,EAGW,SAAAV,EAAUX,EAAc5I,GACpC,IAAIkK,EAAcf,KAAKC,GAAGe,IAAIvB,GAC9B,OAAO5I,EAAOkK,EAAcA,EAAYlB,EAAQJ,EAAM5I,GAAO,IAAIoI,EAAMQ,EAAM5I,GAASkK,GAAe,IAAI9B,EAAMQ,EAAM5I,EACzH,CC5EIsH,OAAO6B,OAAM7B,OAAO6B,KAAO,CAC3BC,GAAI,IAAIzB,IACRyC,IAAK,IAAIzC,IACT0C,IAAK,IAAIC,MAAMf,EAAQ,CACnBY,IAAK,CAACI,EAAOC,IACkB,iBAAbA,EAAwBD,EAAMC,IAAW3B,WAAQlG,EAEnEpC,IAAK,CAACgK,EAAOC,EAA2B3B,KACpC,GAAuB,iBAAb2B,EAAuB,CAC7B,IAAIC,EAAYD,EAAS7J,MAAM,mBAAmBQ,KAAIa,GAAK0I,WAAW1I,EAAEC,SAAWD,EAAEC,SACjFqH,EAAIiB,EAAME,EAAU,IACpBE,EAAMrB,EAAET,MAEZ,IAAK,IAAI+B,KAAQH,EAAUI,MAAM,IAAM,GAAIF,EAAOA,EAAYC,GAC9DD,EAAM9B,EACNS,EAAErG,OAAO0H,EACZ,CAED,OAAO,CAAI,IAGnBG,IAAK,CAAE,EACPC,KAAM,CAAE,IAGL,QAAMD,EAAGT,IAAEA,GAAQlB,KCnCnB,MAAM6B,EAAe,CAC1B/K,EACAgL,EACAC,EACA5I,EACA6I,EACAjJ,EACAkJ,KAEA,MAAM/I,EAAMhB,GAAcgK,EAAgBhK,EAAG8J,EAAQD,EAAU5I,EAAMrC,GAAI,EAAMiC,EAAMkJ,GAEtE,WAAZH,EAAsB5I,IACpBpC,EAAGqL,iBAAiBL,EAAS5I,EAAG,EAG1BgJ,EAAkBE,MAC7BlK,EACA8J,EACAD,EACA5I,EACArC,EACAuL,EACAtJ,EACAkJ,KAEA/J,GAAGkB,iBACHlB,GAAGoK,kBAECN,IAAQA,EAAU9J,GAAGqK,QAA4BP,QAAU,OAE/D,IAAIQ,EAAmDT,EAASU,OAAOC,WAAWC,MAAKC,GAE/D,YAAnBA,EAAQC,SAAyB1J,EAAK7B,WAAWwL,SAASC,UAAY5J,EAAKzB,MAAM,oBAClFyB,EAAK7B,WAAWsL,EAAQC,UAIxBL,IACFA,EAAsBrJ,EAAK7B,WAAWwL,SAASC,QAC3C,CAAEF,OAAQ,UAAWG,QAAS,WAAYC,OAAQ,iBAClDzJ,GAGN,IAAI+E,EAAQxF,EAAOA,EAAK,CAAEmK,IAAKpM,EAAEoK,IAAEA,EAAKS,IAAAA,SAASnI,EAC7C2J,EAAgD,UAAV5E,EAAoB,IAAI6E,SAAStM,GAAyByH,EAEhG8E,QAAaZ,MAAMtJ,EAAM,IACvB4I,EAASU,OAAOa,SAAW,CAAE,EACjCC,QAAS,IACJxB,EAASU,OAAOa,SAASC,QAC5BvD,KAAQ,QAEVgC,SACAmB,KAAgB,UAAV5E,GAAqC,iBAAT4E,EAAoBA,EAAOxL,KAAK6L,UAAUL,KAC3EM,OAAMrL,IACP2J,EAASU,OAAOiB,MAAMtL,EAAM,IAG1BuL,EAAON,GAAMO,OACjB,GAAGD,IAAiD,IAAzC5B,EAASU,OAAOoB,SAASF,EAAMN,GAAiB,OAE3D,IAAIS,QAAaT,IAAOtB,EAASU,OAAOsB,SAAW,WAEnD,IAAK,IAAIC,IAAe,CAAC,SAAU,UAAW,QAAS,SAAmB,CACxE,IAAInD,EAAK/J,EAAGG,QAAQ,GAAGb,IAAc4N,KACrC,QAAUxK,IAAPqH,EAAkB,SACrB,IAAKoD,EAAUC,GAAarD,EAAGrJ,MAAM,MAAMQ,KAAIa,GAAKA,EAAEC,SAElDqL,GAAa,IAAIC,WAAYC,gBAAgBP,EAAM,aACnD5J,EAAOiK,EAAWG,cAA2BL,GAAY,QAE7D,GAAGE,EAAY,CACb,IAAInB,EAA+B,GAQnC,GAPIR,GAAqBS,QAAyC,SAA/BT,EAAoBS,QAAmBkB,EAAWI,iBAAiB,SAASlI,SAAQxD,GAAKA,EAAE2L,YAAYC,YAAY5L,KACnH,QAAhC2J,GAAqBS,QAAkBkB,EAAWI,iBAAiB,SAASlI,SAAQxD,GAAKqB,GAAMiC,YAAYtD,MAC5E,QAAjC2J,GAAqBQ,QAAoBmB,EAAajK,IAAOqK,iBAAiB,UAAUlI,SAAQxD,IAC5F,CAAC,MAAO,YAAYgD,SAAS2G,GAAqBQ,SAAW,KAAKA,EAAQzJ,KAAKV,GAClFA,EAAE2L,YAAYC,YAAY5L,EAAE,IAG3BwJ,GAAanI,EAAML,EAAgB,CACpC6B,GAAIxB,EACJqB,IAAK2I,EAAYtJ,SAAS0J,cAA2BJ,GAAapN,EAClE2E,SAAUuI,EACVnN,IAAKkL,EACL3F,KAAOtF,IACLmL,IAAWnL,GACX,IAAK,IAAI+B,KAAKmK,EAAS,CACrB,IAAI0B,EAAI9J,SAASC,cAAc,UAC/B6J,EAAE9H,YAAc/D,EAAE+D,YAClB9F,GAAIqF,YAAYuI,EACjB,UAGA,GAAGxK,EAAM,CACZU,SAASuI,KAAKhH,YAAYjC,GAC1B,IAAK,IAAIrB,KAAKmK,EAAS,CACrB,IAAI0B,EAAI9J,SAASC,cAAc,UAC/B,IAAK,IAAI8J,KAAQ9L,EAAE+L,WAAYF,EAAEG,aAAaF,EAAKlF,KAAMkF,EAAKjF,OAC9DgF,EAAE9H,YAAc/D,EAAE+D,YAClB1C,EAAK4K,OAAOJ,EACb,CACF,CACF,CACF,CAED,IAAIK,EAAajO,EAAGG,UAAU,GAAGb,YAC7B4O,EAAc3M,EAAe0M,GAAc,KAAKhM,KACpDiM,IAAc,CAAE9B,IAAKpM,EAAIoK,IAAAA,EAAKS,IAAAA,EAAKsD,MAAOnB,IAEvCzB,GAAWpJ,EAAiBnC,EAAmBoB,EAAGiB,EAAK,ECnF/C+L,EAAmB,CAC5BC,EACAC,EACAC,EACAC,GAAmB,KAEnB,MAAM/I,EAAM+I,EAAU,yBAA2B,qBACjD,OAAOF,IAAUD,GAAOA,EAAMD,EAAiBG,IAAKF,IAAQA,IAAM5I,GAAqB6I,EAASC,EAAIC,EAAQ,EAInGC,EAAyB,CAACrF,EAAqBnH,EAAiBmK,IAClE9C,EAAO9J,IAAO,CACjB4J,WACAG,QAAS,IAAMtH,IAAO,CAAEmK,MAAGhC,IAAEA,EAAGS,IAAEA,MC7C7B6D,EAAa,IAAIhH,UASjBiH,EACTC,EAA0B,KAC1BC,EAAyD,IAAInH,IAC7DoH,EAA+B,IAAInH,IAEnC,WAAAkB,CAAY9I,GACLA,EAAIgP,MAAOjG,KAAK8F,EAAM9K,SAAS0J,cAAczN,EAAIgP,OAEhDjG,KAAK8F,EAAM9K,SAASC,cAAchE,EAAIiP,OAAOrG,KAEpD,CAED,CAAAnG,CAASjC,GACL,OAAOuI,KAAK8F,GAAKzO,QAAQ,GAAGb,IAAciB,IAC7C,CAED,CAAA0O,CAAajE,EAAoC/I,GAC7C6G,KAAK+F,GAAYvO,IAAI0K,EAAS/I,EACjC,CAED,CAAAiN,CAASjN,GACL6G,KAAKgG,GAAQ5I,IAAIjE,EACpB,CAED,CAAAkN,GACIrG,KAAK+F,GAAYtJ,SAAQ,CAACtD,EAAM+I,KAC5BlC,KAAK8F,GAAKQ,oBAAoBpE,EAAS/I,EAAK,IAGhD6G,KAAKgG,GAAQvJ,SAAStD,IAClB6G,KAAKgG,GAAQO,OAAOpN,EAAK,IAG7B6G,KAAKgG,EAAShG,KAAK+F,EAAa,KAChC/F,KAAK8F,EAAM,KAER9F,KAAK8F,GAAKF,EAAWW,OAAOvG,KAAK8F,EACvC,EC3CE,IAAIU,EAAc,CAACtP,EAAuBiC,EAAiBsN,KAC9Dd,EACIc,GACA,IAAMtN,IAAO,CAACmK,IAAKpM,EAAIoK,IAAAA,MAAKS,KAC5B7K,EACH,EAGMwP,EAAc,CAACxP,EAAuBgL,EAAiB/I,KAC9D,IAAIG,EAAMhB,IACNa,IAAO,CAACmK,IAAKpM,EAAIoK,IAAAA,EAAKS,IAAAA,IACnBzJ,GAAGe,EAAiBnC,EAAIoB,EAAE,EAGlB,WAAZ4J,EAAsB5I,IACpBuM,EAAkBM,EAAajE,EAAS5I,EAAG,ECdzCqN,EAAmB,CAC5BzP,EACA0P,EACA5N,EACAG,EACAsN,EACAxP,KAEA,IAEE4P,EAGAC,EALEC,EAAe/L,SAASC,cAAc,YACxC+L,EHT2B,CAAC9P,IAC5B,MAAM+P,EAAW,WACjB,GAAG/P,EAAGgQ,UAAYD,EAAU,OAAO/P,EAEnC,MAAMiQ,EAAQnM,SAASC,cAAcgM,GAIrC,OAHAE,EAAMC,QAAQ7K,YAAYrF,EAAGiF,WAAU,IACvCjF,EAAGoF,YAAY6K,GAERA,CAAK,EGCJE,CAAgBnQ,EAAGiF,WAAU,IAErCmL,EAAcV,EAAK9O,MAAM,WACzByP,EAAiBX,EAAK9O,MAAM,uBAE5B0P,EAA2B,GAU7B,GARAT,EAAa5J,UAAUC,IAAI,GAAGwJ,WAC9BI,EAAM7J,UAAUC,IAAI,GAAGwJ,SAEvB1P,EAAGgO,OAAO6B,GACV7P,EAAGoE,MAAM0L,GACT9P,EAAG8G,SAGAsJ,EAAa,CAEd,GAAGC,EAAgB,CACjB,IAAIE,EAAQnC,EAAiByB,GAAexB,GAAQA,GAAKpI,WAAWuK,SAAS,GAAGlR,YAAsB,MAAM,GAC5G8O,EAAiBmC,GAAOlC,GAAOA,GAAOyB,IAAOzB,IACxCA,GAAKlO,UAAU,GAAGb,YAAsBgR,EAAe7N,KAAK4L,EAAIlO,QAAQ,GAAGb,YAAwB,GAAG,GAE5G,CAGDsQ,EAAU,KACR,GAAGS,EACD,IAAK,IAAII,KAAKH,EACZ,GAAGlG,EAAIqG,GAAI,OAAO,EAGtB,MAA+B,SAAxBJ,IAAiB,KAAoD,IAA7BpO,IAAO,CAAEjC,SAAIoK,EAAGS,IAAEA,GAAe,CAEnF,CAED8E,EAAalB,EAAuB,IAAIc,KAAmBe,GAAiBF,EAAcR,EAAU3N,EAAM6N,GAC1GA,EAAM3P,QAAQ,GAAGb,WAAuBqQ,EAAWhH,KAGnDgH,EAAWlG,KAAI9I,SACF+B,IAAR/B,GACHoC,GAAgB,KACdqL,EAAiByB,GAAca,oBAAmCrC,GAAOA,GAAKpI,WAAWuK,SAAS,GAAGd,WAAarB,IAC7GA,GAAKxJ,EAAiBwJ,EAAoB,MAAOtO,GAAK,IAAMsO,EAAIvH,UAAS,IAG3EsJ,IAAgBzP,GH3CA,EAAIgQ,EAAyCpC,KAClE,GAAGoC,aAAejJ,IACd,IAAK,MAAOnH,EAAKqI,KAAU+H,EAAI9I,UAAW0G,EAAG3F,EAAOrI,QAEpD,IACI,MAAMqQ,EAAM5P,MAAMC,QAAQ0P,GAAOA,EAAM3P,MAAM4G,KAAK+I,GAClD,GAAGC,EAAIC,OAAQD,EAAIrL,QAAQgJ,QACtB,IAAK,MAAMhO,KAAOoQ,EAAKpC,EAAIoC,EAAYpQ,GAAMA,EACrD,CAAC,MAAOa,GACLC,QAAQC,MAAM,GAAGqP,oBACpB,CACJ,EGkCCG,CAAUpB,EAAK9O,MAAM,QAAUD,EAAM,CAACA,IAAM,CAACA,EAAKJ,KAChD,IAAIwQ,EAAOjB,EAAM7K,WAAU,GAC3B,IAAImL,EAAa,CACf,IAAIY,EAAOlB,EAAMmB,UAAUC,QAAQ,iBAAiB,CAACC,EAAGC,IAAQ7P,EAAe6P,EAAKtP,EAAG,GAAIA,EAAG,IAAIG,OAAO,CAAEmK,IAAKpM,EAAEoK,IAAEA,EAAGS,IAAEA,EAAK,CAAC/I,EAAG,IAAKnB,EAAK,CAACmB,EAAG,IAAKvB,KAAU,MAAO,GACnKwQ,EAAKE,YAAWF,EAAKE,UAAYD,EACrC,CAED,IAAK,IAAIK,KAAWrQ,MAAM4G,KAAKmJ,EAAKb,QAAQoB,UACtCD,EAAQJ,YAAWI,EAAQJ,UAAYM,OAAO5Q,IAClDmP,EAAM9B,OAAOqD,GACbxM,EAAiBwM,EAAwB,KAAMtR,EAChD,GACD,GACF,GACF,ECrEAyR,EAAyB,CAAA,EACzBC,EAAS,CAAC,OAAQ,OAAQ,QAAS,KAAM,SAAU,OAAQ,OAAQ,MAAO,OAAQ,OAAQ,MAAO,SAAU,QAAS,WAAWvQ,KAAIwQ,GAAK,GAAGpS,IAAcoS,MAO7JrK,OAAOgE,iBAAiB,YAAY,KAChCW,SAAS2F,QAAQ,IAGd,IAAIC,EAAaC,IACpB,GAAGA,GAAQlM,UAAYC,KAAKC,UAAW,OAEvC,IAAIiM,GAAgCD,GAAU/N,SAASuI,MAAMoB,iBACzD,SAASgE,EAAOM,KAAK,uBAGzB,IAAK,IAAI/R,IAAM,CAAC6R,KAAWC,GAAuB,CAC9C,IAAIE,EAAgBlS,EAAgBmS,gBAAgBT,GAAOxR,GAG3D,GAFIA,EAAGkS,KAAIlS,EAAGkS,GAAK1S,UAE0BkD,IAA1C1C,EAAGG,UAAU,GAAGb,YAAqC,CACpD,IAAKoQ,EAAMrN,EAAMoF,EAAOuD,GAAyB,KAAdhL,EAAGgQ,QAClC,CAAC,MAAQhQ,EAAyBqC,UAAMK,EAAW,SACnD,CAAE1C,EAAuBkL,OAAOiH,cAAgBnS,EAAuBoS,OAAQ,IAAM,QAAS,UAElG,GAAG/P,EAAM,CACL0I,EAAa/K,EAAIgL,EAASgH,EAAe3P,EAAMqN,EAAMjI,GAAQzH,GAAmB4R,EAAU5R,KAC1F,QACH,CACJ,CAED,IAAK,IAAI0P,KAAQ1P,EAAGG,QAChB,GAAIsR,EAAO1M,SAAS2K,GAEpB,IAAK,IAAI2C,KAAWrS,EAAGG,UAAUuP,IAAOhP,MAAM,OAAS,GAAI,CACvD,IAAI4R,IAAU,iCAAiCC,KAAK7C,GAChD8C,EAAQH,GAAS3R,MAAM,aACvB2B,EAAOiQ,GAAUE,EAAMC,OAAc,GACrCC,EAAWJ,GAAW,OAAOC,KAAK7C,GAAQ8C,EAAMG,SAAS/R,MAAM,iBAAiB6R,OAAO/R,MAAMnB,IAAc2B,KAAIa,GAAKA,EAAEC,SAAU,IAAM,GACtI4Q,EAAUJ,IAAQ,IAAM,GACxBjD,EAAiBvO,MAAM4G,KAAK,IAAID,IAAI,IAAIiL,GAASC,SAAS,oBAAoB3R,KAAIwQ,GAAKA,EAAE,QAEzFzP,KAAEA,EAAIH,GAAEA,GAAOP,EAAeqR,GAElC,GAAG,qBAAqBL,KAAK7C,GAAOD,EAAiBzP,EAAI0P,EAAM5N,GAAM,GAAIG,EAAMsN,EAAgByC,OAC1F,CACGU,GAAU7B,SAAQ6B,EAAW,CAAC,KAClC,IAAK,IAAI1H,KAAW0H,EACb,OAAOH,KAAK7C,GAAOJ,EAAYtP,EAAIiC,EAAMsN,GACpC,OAAOgD,KAAK7C,GAAOF,EAAYxP,EAAIgL,EAAS/I,GAC/C8I,EAAa/K,EAAIgL,EAASgH,EAAe3P,EAAMqN,EAAKwB,QAAQ5R,EAAa,IAAK2C,EAE1F,CACJ,CAER,GC5DM6Q,EAAO,CACdxI,MAAO,CAAIyI,EAAoBC,KACvBA,GAAWC,eAAe,UAAaD,GAAWC,eAAe,aAAYD,EAAY,CAAEpK,MAAOoK,IAC/F1J,EAAOyJ,EAAYC,IAE9BE,OAAQ,CAACH,EAAoBC,IAAgC1J,EAAOyJ,EAAYC,GAChFG,MAAQA,IAAwC,IAAI,IAAI5S,KAAO4S,EAAOjK,KAAK2B,IAAItK,GAAO4S,EAAM5S,EAAI,EAChG6S,OAAQ,CAACC,EAAkBC,KAAwBC,ODF7BC,ECEyCH,QDFfI,ECEwBH,GDDxD9B,EAAKtR,SAAW,IAAKsR,EAAKtR,SAAUuT,CAACA,GAAcD,GAC9DhC,EAAO,IAAKA,KAASgC,IAFL,IAACA,EAA0BC,CCEqC,EACrFC,OAASnF,ITGoB,IAAC/I,KSHe+I,ITIvCzL,EAAeL,KAAK+C,ESJsB,EAChDmO,SAAW9B,GAAuCD,EAA4B,iBAAVC,EAAqB/N,SAAS0J,cAAcqE,GAAgCA,GAChJ+B,cCCwB,CAACjL,EAAc5I,KACzCmJ,KAAK4B,KAAKnC,GAAQ,cAAckL,YAC9BC,SAAuC,KAEvCC,UACAC,QACAC,aACAC,iBAEA,WAAArL,GACEsL,QACApU,GAAK8I,aAAauL,KAAKtL,KAAvB/I,KACA+I,KAAKiL,UAAYhU,GAAKgU,WAAWK,KAAKtL,MACtCA,KAAKkL,QAAUjU,GAAKiU,SAASI,KAAKtL,MAClCA,KAAKmL,aAAelU,GAAKkU,cAAcG,KAAKtL,MAC5CA,KAAKoL,iBAAmBnU,GAAKmU,kBAAkBE,KAAKtL,MACpDA,KAAKgL,SAAW/T,GAAK+P,OAAUhM,SAASuQ,eAAetU,GAAKoN,UAAYxE,GAC1C,YAA3BG,KAAKgL,UAAU/D,WAAwBjH,KAAKgL,SAAW,KAC3D,CAED,iBAAAQ,GACE,MAAMC,EAASzL,KAAK0L,aAAa,CAAE9E,KAAM3P,GAAKwU,QAAU,WAClDT,EAAWhL,KAAKgL,UAAU5D,QAAQjL,WAAU,GAElD,GAAG6O,EAAU,CACXS,EAAOE,OAAOX,GACd,IAAK,IAAIY,KAAS1T,MAAM4G,KAAK2M,EAAOjD,UAClC,GAAqB,QAAlBoD,EAAM3E,SACP,IAAK,IAAI4E,KAAcD,EAA0BE,gBAC/ChD,EAAU+C,OAEc,YAAlBD,EAAM3E,UACd6B,EAAU8C,EAGf,CACF,CAED,wBAAAG,CAAyBhH,EAAciH,EAAuB9K,GAC5DlB,KAAKoL,mBAAmBrG,EAAMiH,EAAQ9K,EACvC,CAED,oBAAA+K,GACEjM,KAAKmL,gBACN,CAED,eAAAe,GACElM,KAAKkL,WACN,CAED,6BAAWiB,GACT,OAAOlV,GAAKkV,oBAAsB,EACnC,GAGA/L,KAAK4B,KAAKnC,IAAOuM,eAAeC,OAAOxM,EAAMO,KAAK4B,KAAKnC,GAAM,EDvD9DyM,UC0DoB9J,MAAO+J,UACvBjK,OACJ1I,EACA,MACA,CACEiJ,MAAO,CACLC,UAAW,CAAC,CACVG,OAAQ,UAAWG,QAAS,MAAOC,OAAQ,eAIjDkJ,EACA,CAAElV,QAAS,CAAE,CAAC,GAAGb,WAAsB,sBACvC,EACD,GDrEQ8K,EAAMlB,KAAKkB,IACXS,EAAM3B,KAAK2B"}