{"version":3,"file":"dev.manifold.js","sources":["../src/common_types.ts","../src/updates.ts","../src/store.ts","../src/util.ts","../src/fetch.ts","../src/registered_element.ts","../src/registrar.ts","../src/component.ts","../src/templ.ts","../src/index.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null],"names":["window","MFLD","st","Map","els","$st","Proxy","_store","get","store","property","value","undefined","set","propParts","split","map","s","parseFloat","trim","S","ret","part","slice","update","$fn","comp","workArray","updateSet","Set","cancelAnimationFrame","_nextTickQueue","onTick","fn","push","_scheduleUpdate","add","requestAnimationFrame","_runUpdates","recursed","console","log","performance","now","error","order","newUpdateSet","hasUpstream","up","_upstreamStores","has","newVal","_updater","$el","_scope","clear","size","forEach","_transition","el","dir","after","_hashAny","input","isNaN","Array","from","entries","hash","char","TextEncoder","encode","toString","Store","_subscriptions","_storedHash","_downstreamStores","name","constructor","ops","this","scope","_modify","dependencyList","updater","sub","immediate","setTimeout","newValue","newHash","ds","found_store","ATTR_PREFIX","_commaSepRx","_id","Date","Math","floor","random","_getOpOverrides","overrides","profiles","getAttribute","res","attributes","key","startsWith","prop","val","match","JSON","parse","parseInt","isArray","v","e","_parseFunction","condition","additionalProps","registerAsStoreLookups","fnStr","asStr","insertLookups","l","join","fnText","length","as","matchAll","m","func","Function","_handlePushState","ev","href","preventDefault","pushState","history","_registerInternalStore","p","internal","_handleFetch","trigger","fetchOps","method","complete","_fetchAndInsert","addListener","_handlePermissions","fullMarkup","inEl","externalPermissions","fetch","externals","find","allowed","domain","location","origin","script","style","styles","scripts","tag","querySelectorAll","append","parentNode","removeChild","async","specifiedInstruction","domUpdate","body","FormData","_el","data","request","headers","target","stringify","catch","err","code","status","resp","resType","onCode","instruction","selector","toReplace","DOMParser","parseFromString","querySelector","n","document","createElement","textContent","attr","setAttribute","before","resolveTxt","resolveFunc","$body","RegisteredElement","_listeners","_stores","_registered","_fnCtx","fnCtx","ctx","event","listener","addEventListener","addInternalStore","cleanUp","removeEventListener","remove","_ops","_modes","_setOptions","newops","profileName","reload","_register","parent","nodeType","Node","TEXT_NODE","noparent","filter","closestComponent","closest","_op_overrides","structuredClone","_strippedMode","replace","setting","isFetch","test","parts","pop","triggers","shift","funcStr","mode","tagName","toLowerCase","action","_makeComponent","HTMLElement","template","context","deps","onConnect","onAdopted","onDisconnect","onAttributeChanged","super","onconstruct","bind","getElementById","classList","contains","connectedCallback","shadow","attachShadow","content","cloneNode","includes","dep","child","children","nodeName","slotChild","assignedNodes","attributeChangedCallback","disconnectedCallback","adoptedCallback","observedAttributes","customElements","define","_templAttributes","_innerHTML","_swapInnerHTML","newEl","_handleAttribute","self","detail","modFunc","prevConditions","isConditional","prev","recurseCount","previousElementSibling","attrToGet","d","container","obj","cb","arr","_iterable","item","_templ","innerHTML","_","cap","a","String","_funcs","MfldTemplElement","T","found","templ","make","store_name","store_ops","hasOwnProperty","untyped","funcs","component","register","src","then"],"mappings":"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"}