{"version":3,"file":"dev.manifold.js","sources":["../src/util.ts","../src/updates.ts","../src/store.ts","../src/fetch.ts","../src/component.ts","../src/registered_element.ts","../src/registrar.ts","../src/index.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["window","MFLD","st","Map","els","$st","stProx","$fn","comp","ATTR_PREFIX","_commaSepRx","_getOpOverrides","ops","el","overrides","profiles","getAttribute","res","name","attributes","key","startsWith","prop","split","val","match","JSON","parse","parseInt","Array","isArray","map","v","e","console","error","Proxy","_store","get","store","property","find","m","value","undefined","set","propParts","s","parseFloat","trim","S","ret","part","slice","update","_parseFunction","condition","registerAsStoreLookups","conditionalDependencies","additionalParams","fnStr","asStr","insertLookups","stringify","prevConditions","length","fn","fnText","join","as","dependencyList","from","Set","matchAll","r","func","Function","_handlePushState","ev","href","preventDefault","pushState","push","history","_registerInternalStore","sub","$el","Date","now","Math","floor","random","updater","internal","workArray","updateSet","cancelAnimationFrame","_nextTickQueue","onTick","_scheduleUpdate","add","requestAnimationFrame","_runUpdates","recursed","order","newUpdateSet","hasUpstream","up","_upstreamStores","has","newVal","_updater","_scope","clear","size","forEach","_transition","dir","after","_hashAny","input","isNaN","entries","hash","char","TextEncoder","encode","toString","Store","_subscriptions","_storedHash","_downstreamStores","constructor","this","scope","_modify","immediate","setTimeout","newValue","newHash","ds","found_store","_handleFetch","trigger","fetchOps","method","complete","_fetchAndInsert","addListener","_handlePermissions","fullMarkup","inEl","externalPermissions","fetch","externals","allowed","domain","location","origin","script","style","styles","scripts","tag","querySelectorAll","append","parentNode","removeChild","async","specifiedInstruction","domUpdate","body","FormData","_el","data","request","headers","target","catch","err","code","status","resp","resType","onCode","instruction","selector","toReplace","DOMParser","parseFromString","querySelector","n","document","createElement","textContent","attr","setAttribute","before","resolveTxt","resolveFunc","$body","_makeComponent","HTMLElement","template","context","deps","shadow","eachController","eachAliases","showController","controller","onConnect","onAdopted","onDisconnect","onAttributeChanged","super","onconstruct","bind","getElementById","T","_swapInnerHTML","classList","contains","connectedCallback","attachShadow","mode","containingComponent","closest","includes","isConditional","prev","previousElementSibling","searchIn","subprop","dep","_render","_clear","container","log","innerHTML","remove","content","cloneNode","attributeChangedCallback","adoptedCallback","disconnectedCallback","observedAttributes","customElements","define","newEl","RegisteredElement","_listeners","_stores","_registered","_fnCtx","fnCtx","ctx","event","listener","addEventListener","addInternalStore","cleanUp","removeEventListener","_ops","_modes","_setOptions","newops","profileName","reload","_register","parent","nodeType","Node","TEXT_NODE","raw_el","noparent","closestComponent","_op_overrides","structuredClone","_strippedMode","replace","setting","isFetch","test","parts","pop","triggers","shift","funcStr","tagName","toLowerCase","action","make","store_name","store_ops","hasOwnProperty","untyped","funcs","component","src","then"],"mappings":"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"}