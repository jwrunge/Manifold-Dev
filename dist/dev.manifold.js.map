{"version":3,"file":"dev.manifold.js","sources":["../src/util.ts","../src/updates.ts","../src/store.ts","../src/fetch.ts","../src/registered_element.ts","../src/registrar.ts","../src/component.ts","../src/templ.ts","../src/index.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null],"names":["window","MFLD","st","Map","els","$st","stProx","$fn","comp","ATTR_PREFIX","_commaSepRx","_id","Date","now","Math","floor","random","_getOpOverrides","ops","el","overrides","profiles","getAttribute","res","name","attributes","key","startsWith","prop","split","val","match","JSON","parse","parseInt","Array","isArray","map","v","e","console","error","Proxy","_store","get","store","property","find","m","value","undefined","set","propParts","s","parseFloat","trim","S","ret","part","slice","update","_parseFunction","condition","additionalProps","registerAsStoreLookups","fnStr","asStr","insertLookups","stringify","fn","fnText","length","join","as","dependencyList","from","Set","matchAll","r","log","func","Function","_handlePushState","ev","href","preventDefault","pushState","push","history","_registerInternalStore","sub","$el","updater","internal","workArray","updateSet","cancelAnimationFrame","_nextTickQueue","onTick","_scheduleUpdate","add","requestAnimationFrame","_runUpdates","recursed","performance","order","newUpdateSet","hasUpstream","up","_upstreamStores","has","newVal","_updater","_scope","clear","size","forEach","_transition","dir","after","_hashAny","input","isNaN","entries","hash","char","TextEncoder","encode","toString","Store","_subscriptions","_storedHash","_downstreamStores","constructor","this","scope","_modify","immediate","setTimeout","newValue","newHash","ds","found_store","_handleFetch","trigger","fetchOps","method","complete","_fetchAndInsert","addListener","_handlePermissions","fullMarkup","inEl","externalPermissions","fetch","externals","allowed","domain","location","origin","script","style","styles","scripts","tag","querySelectorAll","append","parentNode","removeChild","async","specifiedInstruction","domUpdate","body","FormData","_el","data","request","headers","target","catch","err","code","status","resp","resType","onCode","instruction","selector","toReplace","DOMParser","parseFromString","querySelector","n","document","createElement","textContent","attr","setAttribute","before","resolveTxt","resolveFunc","$body","RegisteredElement","_listeners","_stores","_registered","_fnCtx","fnCtx","ctx","event","listener","addEventListener","addInternalStore","cleanUp","removeEventListener","remove","_ops","_modes","_setOptions","newops","profileName","reload","_register","parent","nodeType","Node","TEXT_NODE","raw_el","noparent","closestComponent","closest","_op_overrides","structuredClone","_strippedMode","replace","setting","isFetch","test","parts","pop","triggers","shift","funcStr","mode","tagName","toLowerCase","action","_makeComponent","HTMLElement","template","context","deps","onConnect","onAdopted","onDisconnect","onAttributeChanged","super","onconstruct","bind","getElementById","classList","contains","connectedCallback","shadow","attachShadow","content","cloneNode","containingComponent","includes","dep","child","children","nodeName","slotChild","assignedNodes","attributeChangedCallback","disconnectedCallback","adoptedCallback","observedAttributes","customElements","define","_templAttributes","_innerHTML","_swapInnerHTML","newEl","_handleTemplAttribute","self","detail","modFunc","prevConditions","isConditional","prev","recurseCount","previousElementSibling","attrToGet","d","container","obj","cb","arr","_iterable","item","_templ","innerHTML","_","cap","a","String","_funcs","MfldTemplElement","T","found","templ","make","store_name","store_ops","hasOwnProperty","untyped","funcs","component","register","src","then"],"mappings":"AAmBIA,OAAOC,OAAMD,OAAOC,KAAO,CAC3BC,GAAI,IAAIC,IACRC,IAAK,IAAID,IACTE,IAAKC,IACLC,IAAK,CAAE,EACPC,KAAM,CAAE,IAGL,IAAIC,EAAc,MACdC,EAAc,WACrBL,IAAEA,EAAGE,IAAEA,GAAQP,OAAOC,KAGfU,EAAM,IACN,GAAGC,KAAKC,SAASC,KAAKC,MAAsB,IAAhBD,KAAKE,YAGjCC,EAAkB,CAACC,EAAuBC,KACjD,IAAIC,EAAYF,EAAIG,WAAWF,EAAGG,aAAa,aAAe,IAC1DC,EAAM,IAAKL,KAAQE,GAGvB,IAAI,IAAII,KAAQL,GAAIM,YAAc,GAC9B,IAAI,IAAIC,IAAO,CAAC,QAAS,SACrB,GAAGF,EAAKG,WAAW,GAAGlB,IAAciB,MAChC,IACI,IAAIE,EAAOJ,EAAKK,MAAM,KAAK,GACvBC,EAAWX,EAAGG,aAAaI,GAC5BI,GAAKC,MAAM,SAAUD,EAAME,KAAKC,MAAMH,GACjCI,SAASJ,GAAO,MAAKA,EAAMI,SAASJ,IACzCK,MAAMC,QAAQN,KAAMA,EAAMA,EAAIO,KAAIC,GAAIJ,SAASI,IAAMA,KACpDf,IAAcG,KAAOE,KAAQL,EAAYG,GAAKE,GAAQE,EAC7D,CACD,MAAMS,GACFC,QAAQC,MAAMF,EACjB,CAKb,OAAOhB,CAAG,EAGR,SAAUjB,EAAO+B,GACnB,OAAO,IAAIK,MAAMC,EAAQ,CACrBC,IAAK,CAACC,EAAOC,KACNT,IAAKS,EAAWT,EAAIU,MAAKC,GAAIA,EAAEtB,KAAOoB,KAAWD,OAASC,GAClC,iBAAbA,EAAwBD,EAAMC,IAAWG,WAAQC,GAEnEC,IAAK,CAACN,EAAOC,EAA2BG,KACpC,GAAuB,iBAAbH,EAAuB,CAC7B,IAAIM,EAAYN,EAASjB,MAAM,mBAAmBQ,KAAIgB,GAAKC,WAAWD,EAAEE,SAAWF,EAAEE,SAClFlB,IAAKe,EAAU,GAAKf,EAAIU,MAAKC,GAAIA,EAAEtB,KAAO0B,EAAU,MAAKP,OAASO,EAAU,IAC/E,IAAII,EAAIX,EAAMO,EAAU,IACpBK,EAAMD,EAAEP,MAEZ,IAAI,IAAIS,KAAQN,EAAUO,MAAM,IAAM,GAAIF,EAAOA,EAAYC,GAC7DD,EAAMR,EACNO,EAAEI,OAAOH,EACZ,CAED,OAAO,CAAI,GAGvB,CACIzD,OAAOC,KAAKK,SAAQN,OAAOC,KAAKK,OAASA,GAEtC,IAAIuD,EAAiB,CAACC,EAAmBC,EAA4B,GAAIC,EAA2D,MACvI,IACI,IAAKC,EAAOC,GAASJ,GAAWjC,MAAM,mBAAqB,CAACiC,EAAW,SACnEK,EAAgBH,EAAyB,6BAA6BhC,KAAKoC,UAAUJ,OAA8B,GACnHK,EAAKJ,GAAOlC,MAAM,0CAA4C,IAAIkC,OAAaA,EAC/EK,EAAS,yBAAyBP,GAAiBQ,OAAS,IAAIR,EAAgBS,KAAK,KAAO,WAAWL,YAAwBE,IAC/HI,EAAKP,GAAOrC,QAAQnB,IAAc2B,OAAMgB,GAAIA,EAAEE,UAAW,CAAC,UAAY,GACtEmB,EAAiBvC,MAAMwC,KAAK,IAAIC,IAAI,IAC7B,IAAIX,GAAOY,SAAS,oBAAoBxC,KAAIW,GAAKA,EAAE,QACnD,IAAIiB,GAAOY,SAAS,qBAAqBxC,KAAIW,GAAKgB,EAAuBjB,MAAK+B,GAAIA,EAAEpD,KAAOsB,EAAE,MAAKH,OAAS,QAG1H,OADAL,QAAQuC,IAAI,WAAYT,GACpBD,EAEO,CAAEW,KADoB,IAAIC,SAAS,MAAOX,GAClCG,KAAIC,kBAFR,EAGd,CACD,MAAMnC,GAEF,OADAC,QAAQC,MAAMF,GACP,EACV,YAGW2C,EAAiB/D,EAAiBgE,EAAYC,GAC1DD,GAAIE,iBAEJ,IAAIC,EAAYnE,GAAIG,aAAa,aAC7BiE,EAAOH,EACX,OAAOE,GACH,IAAK,GAAI,MACT,UAAKpC,EAAW,OAChB,QAASqC,EAAO,IAAID,IAGxBE,QAAQF,UAAU,KAAM,GAAIC,EAChC,CAEM,SAAUE,EAAuBtE,EAAiB6D,EAAiBN,EAA2BgB,GAChG,IAAIxE,EAAM,CAAEyE,IAAKxE,EAAId,MAAKE,OACtBiD,EAAIb,EAAOhC,IAAO,CAClBiF,QAAS,IAAMZ,IAAO9D,GACtBwD,eAAgBA,EAChBmB,UAAU,IAId,OADGH,GAAKlC,EAAEkC,IAAIA,GACPlC,CACX,CCjIA,IAAIsC,EAA0B,GAC1BC,EAA6B,IAAInB,IACjCoB,EAAuB,EACvBC,EAA6B,GAGtBC,EAAU7B,IACjBA,GAAM4B,EAAeV,KAAKlB,EAAG,EAGtB8B,EAAmBvC,IACN,mBAAVA,EAAsBkC,EAAUP,KAAK3B,GAC1CmC,EAAUK,IAAIxC,GAEfoC,IACAA,EAAuBK,uBAAsB,IAAKC,MACrD,EAuBL,SAASA,EAAYC,EAAW,GAE5B,GADIA,GAAU/D,QAAQuC,IAAI,4BAA6B,kCAAmCyB,YAAY3F,OACnG0F,EArCa,IAuCZ,YADA/D,QAAQC,MAAM,kEAGlBuD,EAAuB,EACvBO,IAEA,IAAI,IAAIE,KAASX,EAAWW,IAE5B,IAAIC,EAAgC,IAAI9B,IACxC,IAAI,IAAI/B,KAASkD,EAAW,CAExB,IAAIY,GAAc,EAClB,IAAI,IAAIC,KAAM/D,EAAMgE,EAChB,GAAGd,EAAUe,IAAIF,GAAK,CAClBD,GAAc,EACd,KACH,CAEL,GAAGA,EAAaD,EAAaN,IAAIvD,OAC5B,CACD,IAAIkE,EAASlE,EAAMmE,IAAW,CAAE3G,MAAKE,MAAKoF,IAAK9C,EAAMoE,IACrDpE,EAAMe,YAAkBV,IAAX6D,EAAuBlE,EAAMI,MAAQ8D,EACrD,CACJ,CA4BDjB,EAAY,GACZC,EAAUmB,QAEPR,EAAaS,MAEZpB,EAAYW,EACZJ,EAAYC,KAITR,EAAUoB,MAAMb,EAAYC,GAG/BN,EAAemB,SAAQ/C,GAAMA,MAC7B4B,EAAiB,GAEzB,UAEgBoB,EAAYlG,EAAwBmG,EAAmBC,GACnEpB,GAAgB,KAIZoB,KAAS,GAEjB,CCpHA,SAASC,EAASC,GACd,IAAIA,IAAUC,MAAMD,KAAoB,IAAVA,EAAgB,OAAOA,EACrD,GAAGA,aAAiBtH,KAAOsH,aAAiB7C,IAAK,OAAO4C,EAASrF,MAAMwC,KAAK8C,EAAME,WAAaF,IAE/F,IAAIG,EAAO,EACX,IAAI,IAAIC,KAAQ,IAAIC,aAAcC,OAAON,GAAOO,YAAc,IAC1DJ,GAASA,GAAQ,GAAKA,EAAQC,EAClC,OAAOD,CACX,OAEaK,EACTjB,EACAkB,EAAmC,IAAItD,IACvCuD,EACAtB,EAAmC,IAAIjC,IACvCwD,EAAqC,IAAIxD,IACzCqC,EACAzF,KACAyB,MAEA,WAAAoF,CAAY7G,EAAcN,GACtBoH,KAAK9G,KAAOA,EACZvB,KAAKC,GAAGiD,IAAI3B,EAAM8G,MAClBA,KAAKrB,EAAS/F,GAAKqH,MACnBD,KAAKrF,MAA8B,mBAAf/B,GAAK+B,MAAuB/B,GAAK+B,WAAeC,EACpEoF,KAAKE,EAAQtH,EAChB,CAED,CAAAsH,CAAQtH,GAWJ,OAVCA,GAAKwD,gBAAgBrC,KAAIgB,IACtB,IAAIG,EAAIb,EAAOU,GAGf,OAFAiF,KAAKzB,EAAgBT,IAAI5C,GACzBA,EAAE4E,EAAkBhC,IAAIkC,MACjB9E,CAAC,IAGZ8E,KAAKrF,MAAQ/B,GAAK+B,MAClBqF,KAAKtB,EAAW9F,GAAK0E,QACrBO,EAAgBmC,MACTA,IACV,CAED,GAAA5C,CAAIA,EAAyB+C,GAAqB,GAC9CH,KAAKJ,EAAe9B,IAAIV,GACrB+C,GAAW/C,EAAI4C,KAAKrF,MAC1B,CAED,MAAAW,CAAOX,GACHyF,YAAW,KACP,IAAIC,EAA4B,mBAAV1F,EAAwBA,EAAmBqF,KAAKrF,OAASA,EAC3E2F,EAAUpB,EAASmB,GAEvB,GAAGC,IAAYN,KAAKH,EAAa,CAC7BG,KAAKrF,MAAQ0F,EACbL,KAAKH,EAAcS,EAEnB,IAAI,IAAIC,KAAMP,KAAKF,EAAmBjC,EAAgB0C,GACtD,IAAI,IAAInD,KAAOvD,MAAMwC,KAAK2D,KAAKJ,GAAiBxC,EAAI4C,KAAKrF,MAC5D,IACF,EACN,EAGW,SAAAN,EAAUnB,EAAcN,GACpC,IAAI4H,EAAc7I,KAAKC,GAAG0C,IAAIpB,GAC9B,OAAON,EAAO4H,EAAcA,EAAYN,EAAQtH,GAAO,IAAI+G,EAAMzG,EAAMN,GAAS4H,GAAe,IAAIb,EAAMzG,EAAMN,EACnH,CCjEO,IAAI6H,EAAe,CACzB5H,EACA6H,EACAC,EACA7D,EACA8D,EACAlE,EACAmE,KAEA,IAAIhE,EAAM5C,GAAc6G,EAAgB7G,EAAG2G,EAAQD,EAAU7D,EAAM,KAAMjE,GAAI,EAAM6D,EAAMmE,GAC1E,WAAZH,EAAsB7D,IACpBhE,EAAGkI,YAAYL,EAAS7D,EAAe,EAGzCmE,EAAqB,CAACpI,EAAckE,EAAcmE,EAAsBC,KAC3E,IAAIC,EAAmDvI,EAAIwI,OAAOC,WAAW5G,MAAK6G,GAE5D,YAAnBA,EAAQC,SAAyBzE,EAAKzD,WAAWmI,SAASC,UAAY3E,EAAKrD,MAAM,oBAClFqD,EAAKzD,WAAWiI,EAAQC,UAItBJ,IACHA,EAAsBrE,EAAKzD,WAAWmI,SAASC,QAC5C,CAAEF,OAAQ,UAAWG,OAAQ,WAAYC,MAAO,iBAChD/G,GAGJ,IAAMgH,EAAQC,GAAY,CAAC,QAAS,UAAU9H,KAAI+H,GAAOjI,MAAMwC,MACN,OAAvD8E,IAAsBW,GAAyCb,EAAaC,IAAOa,iBAAiBD,MAGtG,GACM,QADCX,GAAqBQ,MACfC,EAAO9C,SAAQ/D,GAAKmG,GAAMc,OAAOjH,UACpC6G,EAAO9C,SAAQ/D,GAAKA,EAAEkH,YAAYC,YAAYnH,KAGxD,IAAI,IAAI2G,KAAUG,EAASH,EAAOO,YAAYC,YAAYR,GAC1D,OAAOG,CAAO,EAGJf,EAAkBqB,MAC5BlI,EACA2G,EACAD,EACA7D,EACAsF,EACAvJ,EACAwJ,EACA3F,EACAmE,KAEA5G,GAAG8C,iBAGH,IAAIoC,EAAQzC,EAAOA,EAAK,CAAEW,IAAKxE,EAAId,MAAKE,aAAS2C,EAChD0H,EAAgD,UAAVnD,EACnC,IAAIoD,SAAS1J,GAAI2J,GACjBrD,EAEHsD,QAAarB,MAAMtE,EAAM,IACpB6D,EAASS,OAAOsB,SAAW,CAAE,EACjCC,QAAS,IACLhC,EAASS,OAAOsB,SAASC,QAC5BhL,KAAQ,QAETiJ,OAAQA,GAAW3G,GAAG2I,QAA4BhC,QAAU,MAC5D0B,KAAgB,UAAVnD,GAAqC,iBAATmD,EAAoBA,EAAO5I,KAAKoC,UAAUwG,KAC1EO,OAAM1I,IACRwG,EAASS,OAAO0B,MAAM3I,EAAM,IAG7B4I,EAAON,GAAMO,OAEbC,QAAaR,IAAO9B,EAASS,OAAO8B,SAAW,WAGhD,GAAGH,IAAiD,IAAzCpC,EAASS,OAAO+B,SAASJ,EAAMN,GAAiB,OAG3D,IAAI,IAAIW,KAAehB,EAAuB,CAAC,IAAM,CAAC,SAAU,UAAW,SAAU,WAAY,CAChG,IAAI7B,EAAK6B,GAAwBvJ,GAAI2J,GAAKxJ,aAAaoK,GACvD,GAAS,MAAN7C,EAAY,SAEf,IAAK8C,EAAUC,GAAa/C,EAAGhH,MAAM,MAAMQ,KAAIgB,GAAKA,EAAEE,SACrDgG,GAAa,IAAIsC,WAAYC,gBAAgBP,EAAM,aACnD/B,EAAOD,EAAWwC,cAAcJ,GAChCxB,EAAUb,EAAmBL,EAAU7D,EAAMmE,EAAYC,GAE1D,GAAGA,EACF,GAAGmB,EACFtD,EAAYmC,EAAM,GAAM,KACvBL,IAAWhI,GACX,IAAI,IAAIkC,KAAK8G,EAAS,CACrB,IAAI6B,EAAIC,SAASC,cAAc,UAC/BF,EAAEG,YAAc9I,EAAE8I,YAClBhL,GAAI2J,GAAKR,OAAO0B,EAChB,KAGC7K,GAAI2J,GAAKzD,EAAYuE,EAAYzK,GAAI2J,GAAKiB,cAAcH,GAA4BzK,EAAG2J,OAEtF,CACJmB,SAASrB,KAAKN,OAAOd,GACrB,IAAI,IAAInG,KAAK8G,EAAS,CACrB,IAAI6B,EAAIC,SAASC,cAAc,UAC/B,IAAK,IAAIE,KAAQ/I,EAAE5B,WAAYuK,EAAEK,aAAaD,EAAK5K,KAAM4K,EAAKnJ,OAC9D+I,EAAEG,YAAc9I,EAAE8I,YAClB3C,EAAK8C,OAAON,EACZ,CACD,CAEF,CAGD,IAAIO,EAAapL,GAAI2J,GAAKxJ,aAAa,WACtCkL,EAAc3I,EAAe0I,GAAc,KAAKvH,KACjDwH,IAAc,CAAE7G,IAAKxE,EAAId,MAAKE,MAAKkM,MAAOlB,IAEvCZ,GAAWzF,EAAiB/D,GAAI2J,EAAoBvI,EAAG6C,EAAK,QC3HnDsH,EACT5B,EAA0B,KAC1B6B,EAAoC,IAAIxM,IACxCyM,EAA2B,IAAIhI,IAC/BiI,GAAc,EACdC,EAA8C,IAAIlI,IAElD,WAAAyD,CAAYlH,EAAiB4L,GACzBzE,KAAKwC,EAAM3J,EACX,IAAI,IAAI6L,KAAOD,GAAS,GAAIzE,KAAKwE,EAAO1G,IAAI4G,GAC5ChN,OAAOC,KAAKG,IAAI+C,IAAIhC,EAAImH,KAC3B,CAED,WAAAe,CAAY4D,EAAeC,GACvB5E,KAAKqE,EAAWxJ,IAAI8J,EAAOC,GAC3B5E,KAAKwC,GAAKqC,iBAAiBF,EAAOC,EACrC,CAED,gBAAAE,CAAiBvK,GACbyF,KAAKsE,EAAQxG,IAAIvD,EACpB,CAED,OAAAwK,GACI/E,KAAKqE,EAAWvF,SAAQ,CAAC8F,EAAUD,KAC/B3E,KAAKwC,GAAKwC,oBAAoBL,EAAOC,EAAgB,IAOzD5E,KAAKwC,GAAKyC,SACVjF,KAAKwC,EAAM,IACd,EC7BL,IAAI0C,EAAyB,CAAA,EACzBC,EAAS,CAAC,OAAQ,OAAQ,MAAO,OAAQ,OAAQ,MAAO,SAAU,QAAS,WAEpEC,EAAc,CAACC,EAA0BC,KAC7CA,EAAaJ,EAAKnM,SAAW,IAAKmM,EAAKnM,SAAUuM,CAACA,GAAcD,GAC9DH,EAAO,IAAKA,KAASG,EAAQ,EAGtC3N,OAAOmN,iBAAiB,YAAY,KAChCrD,SAAS+D,QAAQ,IAQd,IAAIC,EAAY,CAACC,EAA6B7M,KACjD,IAAI6M,GAAUA,GAAQC,UAAYC,KAAKC,UAAW,OAElD,IAAI9N,EAA+B,EAASiK,iBACxC,IAAI5J,IAAcgN,EAAOjJ,KAAK,MAAM/D,SAGxC,IAAI,IAAI0N,KAAUjN,GAAKkN,SAAW,IAAIhO,GAAO,CAAC2N,KAAW3N,GAAM,CAE3D,GAAG+N,IAAWJ,EAAQ,CAClB,IAAIM,EAAuCF,EAAOG,QAAQ,kBAC1D,GAAGD,GAAoBA,IAAqBN,EAAQ,CAChDvL,QAAQuC,IAAI,kDAAmDoJ,GAC/D,QACH,CACJ,CAED3L,QAAQuC,IAAI,0BAA2BoJ,GAGvC,IAAIhN,EAAKnB,OAAOC,KAAKG,IAAIwC,IAAIuL,IAAW,IAAIzB,EAAkByB,EAAQjN,GAAK6L,OAC3E,GAAG5L,EAAG0L,EAAa,SACnB1L,EAAG0L,GAAc,EAEjB,IAAI0B,EAAgBtN,EAAgBuN,gBAAgBhB,GAAOrM,EAAG2J,GAE9D,IAAI,IAAIsB,KAAQjL,EAAG2J,GAAKrJ,YAAc,GAAI,CACtC,IAAI2K,EAAK5K,KAAKG,WAAWlB,IAA+B,OAAf2L,EAAKnJ,MAAgB,SAC9D,IAAIwL,EAAgBrC,EAAK5K,KAAKkN,QAAQjO,EAAa,IAGnD,GAAoB,WAAjBgO,EASH,IAAI,IAAIE,KAAWxN,EAAG2J,GAAKxJ,aAAa8K,EAAK5K,OAAOK,MAAM,OAAS,CAAC,IAAK,CACrE,IAAI+M,GAAW,YAAYC,KAAKzC,EAAK5K,MACjCsN,EAAQH,GAAS9M,MAAM,aACvBuD,EAAOwJ,GAAUE,EAAMC,OAAc,GACrCC,EAAYJ,GAA4B,QAAjBH,EAA4BK,EAAMG,SAASlN,MAAM,iBAAiBgN,OAAOlN,MAAMnB,IAAc2B,KAAIgB,GAAKA,EAAEE,UAAW,GAAM,KAChJ2L,EAAUJ,IAAQ,IAAM,IAExB9J,KAAEA,EAAIN,eAAEA,GAAmBb,EAAeqL,EAAS,GAAI/M,MAAMwC,KAAKxD,EAAG2L,IAAW,IAGpF,GAAIkC,EAOJ,IAAI,IAAIhG,KAAWgG,EACf,GAAoB,QAAjBP,EAAyB,CACxB,IAAItJ,EAAM5C,IACNyC,IAAO,CAACW,IAAKxE,EAAG2J,EAAKzK,MAAKE,QAC1B2E,EAAiB/D,EAAG2J,EAAoBvI,EAAE,EAG/B,WAAZyG,EAAsB7D,IACpBhE,EAAG2J,GAAKqC,iBAAiBnE,EAAS7D,EAC1C,MACI4D,EAAa5H,EAAI6H,EAASuF,EAAenJ,EAAMqJ,EAAezJ,QAhBnExC,QAAQuC,IAAI,gBAAiB5D,EAAG2L,GAChC3L,EAAGiM,iBAAiB3H,EAAuBtE,EAAG2J,EAAoB9F,EAAMN,OAAgBxB,GAiB/F,KAtCD,CACI,IAAKiM,EAAM/J,EAAMqC,EAAOuB,GAA8B,KAAnB7H,EAAG2J,GAAKsE,QACvC,CAAC,MAAQjO,EAAG2J,EAA0B1F,UAAMlC,EAAW,SACvD,CAAE/B,EAAG2J,EAAwB5B,QAAQmG,cAAgBlO,EAAG2J,EAAwBwE,OAAQ,IAAM,QAAS,UACxGlK,GAAM2D,EAAa5H,EAAI6H,EAASuF,EAAenJ,EAAM+J,EAAM1H,GAAQtG,GAAmB2M,EAAU3M,EAAI,CAAE4L,MAAO7L,GAAK6L,SAExH,CAiCJ,CACJ,GAGLrE,YAAW,IAAKoF,EAAU7B,SAASrB,OAAO,GC5EnC,IAAI2E,EAAiB,CAAC/N,EAAcN,KACpCjB,KAAKO,KAAKgB,KACbvB,KAAKO,KAAKgB,GAAQ,cAAcgO,YAC5BC,SAA+B,KAC/BC,QAA8C,IAAI9K,IAClD+K,KAAoB,IAAI/K,IAExBgL,UACAC,UACAC,aACAC,mBAEA,WAAA1H,GACI2H,QACA9O,GAAK+O,aAAaC,KAAK5H,KAAvBpH,KACAoH,KAAKsH,UAAY1O,GAAK0O,WAAWM,KAAK5H,MACtCA,KAAKuH,UAAY3O,GAAK2O,WAAWK,KAAK5H,MACtCA,KAAKwH,aAAe5O,GAAK4O,cAAcI,KAAK5H,MAC5CA,KAAKyH,mBAAqB7O,GAAK6O,oBAAoBG,KAAK5H,MACxDA,KAAKmH,SAAWxD,SAASkE,eAAejP,GAAKyK,UAAYnK,IAAgCyK,SAASC,cAAc,YAC5G5D,KAAK8H,UAAUC,SAAS,kBAAkB/H,KAAK8H,UAAUhK,IAAI,gBACpE,CAED,iBAAAkK,GACI,IAAIC,EAAwB,GAAfrP,GAAKqP,OAAkBjI,KAAKkI,aAAa,CAAErB,KAAMjO,GAAKqP,QAAU,WAAc,KACvFd,EAAYnH,KAAKmH,SAAiCgB,QAAQC,WAAU,GAGpEC,EAAuBrI,KAAKiC,YAA4B+D,QAAQ,kBACpE9L,QAAQuC,IAAI,OAAQuD,KAAM,YAAaqI,GACpCA,IAAqBrI,KAAKoH,QAAWiB,GAAqCjB,SAAW,IAAIvP,KAE5FqC,QAAQuC,IAAK4L,GAAqCjB,SAAW,IAAIvP,KAGjE,IAAI,IAAIiM,KAAQ9D,KAAK7G,WAAY,CAC7B,GAAG,CAAC,KAAM,QAAS,KAAM,SAAU,OAAQ,QAAQmP,SAASxE,EAAK5K,MAAO,SACxE,IAAIwD,KAAEA,EAAIN,eAAEA,GAAmBb,EAAeuI,EAAKnJ,MAAO,GAAId,MAAMwC,KAAK2D,KAAKoH,UAC9E,GAAG1K,EAAM,CACL,IAAI,IAAI6L,KAAOnM,GAAkB,GAAI4D,KAAKqH,KAAKvJ,IAAIyK,GACnD,IAAI,IAAIA,KAAOvI,KAAKoH,QAASpH,KAAKqH,KAAKvJ,IAAIyK,EAAIhO,OAC/CL,QAAQuC,IAAI,wBAAyBuD,KAAKqH,MAC1C,IAAI9M,EAAQ4C,EAAuB6C,KAAMtD,EAAM7C,MAAMwC,KAAK2D,KAAKqH,OAC/DrH,KAAKoH,QAAQtJ,IAAI,CAAE1E,IAAK0K,EAAK5K,KAAMqB,MAAOA,EAAMrB,MACnD,CACJ,CAID,GAFAgB,QAAQuC,IAAI,4BAA6BuD,KAAKoH,SAE3CD,EAAU,CACTc,GAAQjG,OAAOmF,GACf,IAAI,IAAIqB,KAAS3O,MAAMwC,KAAK4L,GAAQQ,UAAYzI,KAAKyI,UACjD,GAAqB,QAAlBD,EAAME,SACL,IAAI,IAAIC,KAAcH,EAA0BI,gBAC5CpD,EAAUmD,EAA0B,CAAElE,MAAOzE,KAAKoH,cAE9B,YAAlBoB,EAAME,UACZlD,EAAUgD,EAAsB,CAAE/D,MAAOzE,KAAKoH,SAGzD,CACJ,CAEDyB,yBAA2B7I,KAAKyH,mBAChCqB,qBAAuB9I,KAAKwH,aAC5BuB,gBAAkB/I,KAAKuH,UAEvB,6BAAWyB,GACP,OAAOpQ,GAAKoQ,oBAAsB,EACrC,GAGFrR,KAAKO,KAAKgB,IAAO+P,eAAeC,OAAOhQ,EAAMvB,KAAKO,KAAKgB,IAAM,ECvFhEiQ,EAAmB,CAAC,KAAM,SAAU,OAAQ,OAAQ,QACpDC,EAA4B,YAE5BC,EAAiB,CAACxQ,EAAiByQ,KACnCzQ,EAAGuQ,GAAcE,EAAMF,GACvBE,EAAMF,GAAc,EAAE,WAiBVG,EAAsBC,EAAwB3C,EAAc4C,GACxE,IAGIC,GAHAhN,KAAEA,EAAIP,GAAEA,EAAEC,eAAEA,GAAmBb,EAAekO,GAAS,IACvDE,EAA2B,GAC3BC,EAAgB/C,EAAKpN,MAAM,WAM/B,GAHA0C,EAAKA,GAAM,CAAC,OAAQ,QAGjB0K,EAAKpN,MAAM,QAAS,CACnB,IAAIoQ,EAAOL,EACPM,EAAe,EAGnB,KAAMD,EAAOA,GAAME,wBAA4C,CAC3D,IAAIC,EAAY,KAIhB,GAH0BA,EAA1BH,EAAK7Q,aAAa,MAAoB,KAAO6Q,EAAK7Q,aAAa,UAAwB,SAAuB,GAC9GgR,GAAaL,EAAe1M,KAAK4M,EAAKvF,EAAQhK,IAAI0P,IAAY9Q,MAAQ,IAEnE4Q,IAAiB,IAAK,CACrB5P,QAAQC,MAAM,2BACd,KACH,CACD,GAAG0P,EAAK7Q,aAAa,MAAO,KAC/B,CAEDoD,EAAiB,IAAMA,GAAkB,MAAQuN,GAGjDD,EAAU,KACN,IAAI,IAAIO,KAAKN,EACT,GAAG5R,EAAIkS,GAAI,OAAO,EAEtB,MAAe,QAARpD,IAAiD,IAAzBnK,IAAO,CAAE3E,MAAKE,OAAe,CAEnE,MACIyR,EAAUhN,EAGf,IA4BIxB,EAAIiC,EACJqM,EACAE,EACAtN,GA/BO5C,IACP,QAAWoB,IAARpB,EAAmB,OAGtB,IAAI0Q,EAAYvG,SAASC,cAAc,QACvCyF,EAAea,EAAWV,GAC1BA,EAAKxF,OAAOkG,GACZnL,EAAYmL,EAAW,GAAO,IAAKA,EAAUjF,WAE1C2E,IAAkBpQ,GA9Db,EAAI2Q,EAAyCC,KACzD,GAAGD,aAAetS,IACd,IAAI,IAAIuB,EAAKuB,KAAUwP,EAAI9K,UAAW+K,EAAGzP,EAAOvB,QAEhD,IACI,IAAIiR,EAAMxQ,MAAMC,QAAQqQ,GAAOA,EAAMtQ,MAAMwC,KAAK8N,GAChD,GAAGE,EAAIpO,OAAQoO,EAAIvL,QAAQsL,QACtB,IAAI,IAAIhR,KAAO+Q,EAAKC,EAAID,EAAY/Q,GAAMA,EAClD,CAAC,MAAOa,GACLC,QAAQC,MAAM,SAASgQ,oBAC1B,CACJ,EAsDGG,CAAkB,QAARzD,EAAiBrN,EAAM,CAACA,IAAM,CAACA,EAAUJ,KAC/C,IAAImR,EAAOf,EAAKgB,GAAQpC,WAAU,GAC9BwB,IACAW,EAAKE,UAAaF,EAAKnB,IAAwBhD,QAC3C,gBAAgB,CAACsE,EAAGC,IAAQpP,EAAeoP,EAAKxO,EAAGpC,KAAI6Q,GAAI,IAAIA,OAAMlO,OAAO,CAAE3E,MAAKE,MAAK,CAAC,IAAIkE,EAAG,MAAO3C,EAAK,CAAC,IAAI2C,EAAG,MAAO/C,KAAU,MAEtIyR,OAAOrR,IAIdgQ,EAAKxH,OAAOuI,EAAKpC,SACjBpJ,EAAYyK,EAAM,GAAM,IAAKhE,EAAUgE,EAAM,CAAE1D,UAAU,KAAQ,GACnE,IAYH4D,GAASF,EAAKsB,EAAOhN,IAAI4L,GAC5BF,EAAKlF,EAAQzJ,IAAIgM,EAAM3L,EAC3B,CAEM,MAAO6P,UAAyB7D,YAClCsD,EAAqC,KACrCM,EAA+B,IAAIxO,IACnCgI,EAAmC,IAAIzM,IAEvC,iBAAAmQ,GAEIhI,KAAKwK,EAASxK,KAAKyD,cAAc,aAAe,MAC5C,IAAIuH,EAAIrH,SAASC,cAAc,YAE/B,OADAyF,EAAe2B,EAAGhL,MACXgL,CACV,EAJ+C,GAOhD,IAAIC,EAAQ,GACZ,IAAI,IAAInH,KAAQqF,EAAkB,CAC9B,IAAI3P,EAAMwG,KAAKhH,aAAa8K,GAElB,MAAPtK,IACIyR,GAAO/Q,QAAQC,MAAM,oCAAoC8Q,WAAenH,QAAWmH,cACtFA,EAAQnH,GAEJ,OAARtK,GAAgB+P,EAAsBvJ,KAAM8D,EAAMtK,EACrD,CACJ,CAED,oBAAAsP,GAEI9I,KAAK8K,EAAOhM,SAAQpC,GAAc,MACrC,CAED,6BAAWsM,GACP,OAAOG,CACV,EAIDzR,OAAOwT,QAAOxT,OAAOwT,MAAQjC,eAAeC,OAAO,WAAY6B,IC3IxD,IAAAxQ,EAAQ,CACf4Q,KAAM,CAAIC,EAAoBC,KACtBA,GAAWC,eAAe,UAAaD,GAAWC,eAAe,aAAYD,EAAY,CAAE1Q,MAAO0Q,IAC/FhR,EAAO+Q,EAAYC,IAE9BE,QAAS,CAACH,EAAoBC,IAAgChR,EAAO+Q,EAAYC,GACjFG,MAAQA,IAAwC,IAAI,IAAIpS,KAAOoS,EAAO7T,KAAKM,IAAImB,GAAOoS,EAAMpS,EAAI,GAGzFqS,EAAY,CACnBN,KAAMlE,EACNyE,SFgFoBvJ,MAAOjJ,EAAcyS,EAAa/S,KACtD+K,SAAS5B,iBAAiB7I,GAAM4F,SAAQjG,GAAKA,EAAGiP,UAAUhK,IAAI,mBAC9DgD,OACIlG,EACA,MACA,GACA+Q,EACA,mBACA,MACA,GACFC,MAAK,KACH3E,EAAe/N,EAAMN,EAAI,GAC3B"}