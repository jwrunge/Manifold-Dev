{"version":3,"file":"dev.manifold.js","sources":["../src/common_types.ts","../src/updates.ts","../src/store.ts","../src/util.ts","../src/registered_element.ts","../src/fetch.ts","../src/templates.ts","../src/registrar.ts","../src/templ.ts","../src/index.ts","../src/component.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null],"names":["window","MFLD","st","Map","mut","$st","Proxy","_store","get","store","property","value","undefined","set","propParts","split","map","s","parseFloat","trim","S","ret","part","slice","update","$fn","comp","workArray","updateSet","Set","cancelAnimationFrame","_nextTickQueue","_scheduleUpdate","push","add","requestAnimationFrame","_runUpdates","_","recursed","console","log","error","order","newUpdateSet","hasUpstream","up","_upstreamStores","has","newVal","_updater","$cur","$el","_scope","_el","name","clear","size","forEach","fn","_hashAny","input","isNaN","Array","from","entries","hash","char","TextEncoder","encode","toString","Store","_subscriptions","_storedHash","_downstreamStores","_updateTimeout","constructor","ops","this","scope","_modify","dependencyList","updater","_auto_update","sub","immediate","clearTimeout","setTimeout","newValue","newHash","ds","found_store","ATTR_PREFIX","_commaSepRx","_id","Date","now","Math","floor","random","_getOpOverrides","el","overrides","profiles","_attribute","res","attributes","key","startsWith","prop","val","match","JSON","parse","parseInt","isArray","v","e","_parseFunction","condition","valArg","keyArg","fnStr","asStr","fnText","as","matchAll","m","func","Function","_handlePushState","ev","href","preventDefault","pushState","history","elementReg","_transition","dir","after","RegisteredElement","element","_listeners","_funcs","_ops","recipe","query","parent","document","querySelector","createElement","create","_cleanUp","_classes","classes","_position","ref","mode","setAttribute","getAttribute","remove","cls","classList","_query","all","concat","_addListener","trigger","F","addEventListener","_addFunc","_registerInternalStore","id","clone","newEl","cloneNode","_replaceWith","replaceWith","_asTempl","tagName","templ","content","append","_dimensions","style","getComputedStyle","rect","getBoundingClientRect","w","clientWidth","paddingLeft","paddingRight","left","scrollX","top","scrollY","removeElement","removeEventListener","delete","child","_handleFetch","fetchOps","method","complete","_fetchAndInsert","async","domUpdate","stopPropagation","target","externalPermissions","fetch","externals","find","allowed","domain","location","origin","script","body","FormData","data","request","headers","stringify","catch","err","code","status","onCode","resp","resType","instruction","selector","toReplace","fullMarkup","DOMParser","parseFromString","inEl","styles","scripts","tag","querySelectorAll","parentNode","removeChild","n","textContent","resolveTxt","resolveFunc","$body","_iterateSiblings","sib","breakFn","cb","reverse","_iterable","obj","arr","length","_handleTemplates","newFunc","conditional","conditionalSub","prevConditions","startElement","contains","storeRef","d","start","previousElementSibling","nodeName","ifend","nextElementSibling","item","html","innerHTML","replace","cap","children","String","before","_modes","reload","_register","noparent","nodeType","Node","TEXT_NODE","suffix","els","join","_registerElement","_op_overrides","structuredClone","setting","isFetch","test","parts","pop","triggers","shift","funcStr","toLowerCase","action","_templAttributes","_handleAttribute","self","detail","isConditional","prev","recurseCount","attrToGet","_stores","_templ","MfldTemplElement","HTMLElement","connectedCallback","T","appendChild","attr","attributeChangedCallback","disconnectedCallback","observedAttributes","customElements","define","Mfld","store_name","store_ops","hasOwnProperty","ustore","funcs","config","new_ops","profile_name","_setOptions","newops","profileName","onTick","register","makeComponent","template","onconnect","onadopted","ondisconnect","onAttributeChanged","super","onconstruct","bind","options","getElementById","shadow","attachShadow","slotChild","assignedNodes","oldVal","adoptedCallback","component","src"],"mappings":"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"}