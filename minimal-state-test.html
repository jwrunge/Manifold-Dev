<!DOCTYPE html>
<html>
	<head>
		<title>Minimal State Test</title>
	</head>
	<body>
		<h1>Minimal State Test</h1>
		<script type="module">
			import { State } from "./src/State.ts";

			console.log("=== State class debug ===");
			console.log("State:", State);
			console.log("State.prototype:", State.prototype);
			console.log("State._createComputed:", State._createComputed);
			console.log(
				"typeof State._createComputed:",
				typeof State._createComputed
			);

			// List all static methods
			console.log("Static methods:", Object.getOwnPropertyNames(State));

			// Test calling _createComputed directly
			try {
				console.log("Testing State._createComputed...");
				const computed = State._createComputed(() => "test value");
				console.log("✅ State._createComputed worked:", computed);
			} catch (error) {
				console.error("❌ State._createComputed failed:", error);
				console.error("Error stack:", error.stack);
			}

			// Test State.get
			try {
				console.log("Testing State.get...");
				const result = State.get("nonexistent");
				console.log("✅ State.get worked:", result);
			} catch (error) {
				console.error("❌ State.get failed:", error);
			}
		</script>
	</body>
</html>
