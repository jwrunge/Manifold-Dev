<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Minimal Manifold Test</title>
	</head>
	<body>
		<h1>Minimal Manifold Test</h1>

		<div data-mf-register>
			<h2>Testing Basic Functionality</h2>
			<p>User name: ${user.name}</p>
			<p>Counter: ${counter}</p>
			<button onclick="${() => counter++}">Increment</button>

			<div data-if="${counter > 5}">Counter is greater than 5!</div>
			<div data-else>Counter is 5 or less</div>
		</div>

		<script type="module">
			import { state, register } from "./src/index.js";

			// Create states
			window.user = state({ name: "Test User" });
			window.counter = state(0);

			// Register elements after DOM loads
			document.addEventListener("DOMContentLoaded", () => {
				document
					.querySelectorAll("[data-mf-register]")
					.forEach((el) => {
						console.log("Registering element:", el);
						register(el);
					});
				console.log("States:", {
					user: window.user,
					counter: window.counter,
				});
			});
		</script>
	</body>
</html>
